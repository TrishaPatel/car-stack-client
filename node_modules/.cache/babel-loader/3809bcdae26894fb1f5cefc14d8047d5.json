{"ast":null,"code":"import { apiCall } from '../../services/api';\nimport { addError, removeError } from './errors';\nimport { ADD_NEW_AD } from '../actiontypes';\n\nfunction SetNewAd(newAd) {\n  return {\n    type: ADD_NEW_AD,\n    newAd\n  };\n}\n\nexport function addNewAd(newAdData) {\n  return dispatch => {\n    return new Promise((resolve, reject) => {\n      return apiCall(\"post\", `/api/user/${newAdData.user}/ads/createnewad`, newAdData).then(({\n        addata\n      }) => {\n        dispatch(SetNewAd(addata));\n        dispatch(removeError());\n        resolve();\n      }).catch(err => {\n        dispatch(addError(err.message));\n        reject();\n      });\n    });\n  };\n}","map":{"version":3,"sources":["C:/Users/umipa/Desktop/carstack-client/src/Store/Action/newAd.js"],"names":["apiCall","addError","removeError","ADD_NEW_AD","SetNewAd","newAd","type","addNewAd","newAdData","dispatch","Promise","resolve","reject","user","then","addata","catch","err","message"],"mappings":"AAAA,SAASA,OAAT,QAAwB,oBAAxB;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,UAAtC;AACA,SAAQC,UAAR,QAAyB,gBAAzB;;AAEA,SAASC,QAAT,CAAmBC,KAAnB,EAA0B;AACtB,SAAO;AACHC,IAAAA,IAAI,EAAEH,UADH;AAEHE,IAAAA;AAFG,GAAP;AAIH;;AAED,OAAO,SAASE,QAAT,CAAkBC,SAAlB,EAA4B;AAC/B,SAAOC,QAAQ,IAAI;AACf,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,aAAOZ,OAAO,CAAC,MAAD,EAAU,aAAYQ,SAAS,CAACK,IAAK,kBAArC,EAAwDL,SAAxD,CAAP,CACNM,IADM,CACD,CAAC;AAAEC,QAAAA;AAAF,OAAD,KAAgB;AAClBN,QAAAA,QAAQ,CAACL,QAAQ,CAACW,MAAD,CAAT,CAAR;AACAN,QAAAA,QAAQ,CAACP,WAAW,EAAZ,CAAR;AACAS,QAAAA,OAAO;AACV,OALM,EAMNK,KANM,CAMCC,GAAD,IAAS;AACZR,QAAAA,QAAQ,CAACR,QAAQ,CAACgB,GAAG,CAACC,OAAL,CAAT,CAAR;AACIN,QAAAA,MAAM;AACb,OATM,CAAP;AAUH,KAXM,CAAP;AAYH,GAbD;AAcH","sourcesContent":["import { apiCall } from '../../services/api';\r\nimport { addError, removeError } from './errors';\r\nimport {ADD_NEW_AD} from '../actiontypes';\r\n\r\nfunction SetNewAd (newAd) {\r\n    return {\r\n        type: ADD_NEW_AD,\r\n        newAd\r\n    }\r\n}\r\n\r\nexport function addNewAd(newAdData){\r\n    return dispatch => {\r\n        return new Promise((resolve, reject) => {\r\n            return apiCall(\"post\", `/api/user/${newAdData.user}/ads/createnewad`, newAdData)\r\n            .then(({ addata }) => {\r\n                dispatch(SetNewAd(addata))\r\n                dispatch(removeError());\r\n                resolve();\r\n            })\r\n            .catch((err) => {\r\n                dispatch(addError(err.message));\r\n                    reject();\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}